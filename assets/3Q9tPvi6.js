import{u as I,a as A,_ as R,b as G,c as j,M as H}from"./C9LzMuwG.js";import{n as S,u as z,q as y,o as l,c as a,s as M,v as P,a as e,t as c,x as t,F as k,y as N,z as J,A as O,p as K,e as Q,_ as F,r as $,b as f,B as V,w,C,T as q,d as Y}from"./w0-68fB2.js";import{u as U,_ as T}from"./BdptY0TA.js";const B=i=>(K("data-v-a6bda73f"),i=i(),Q(),i),W={class:"flex basis-1/6"},X=B(()=>e("div",{class:"fab mr-4"},[e("span",{class:"material-symbols-outlined"}," list ")],-1)),Z={class:"flex-initial"},ee={class:"text-xl"},te=B(()=>e("p",{class:"text-sm text-gray-500"},"Products",-1)),se={class:"basis-1/6 flex-auto"},oe={class:"text-xs text-gray-500"},le={key:1},re={class:"basis-1/6"},ne={key:0,class:"text-xs text-gray-500"},de={key:1},ae={key:1},ie=B(()=>e("span",{class:"material-symbols-outlined text-gray-500"}," delete ",-1)),ce=[ie],ue={class:"flex absolute top-0 right-0 bottom-0 w-1/12 bg-gray-200 items-center justify-center"},pe=B(()=>e("span",{class:"material-symbols-outlined"}," arrow_forward_ios ",-1)),_e=[pe],me=S({__name:"OrderRowItem",props:{order:{},minimized:{type:Boolean},selected:{type:Boolean}},setup(i){const{order:h}=i,{getters:p}=z(),r=y(()=>p.getOrderProducts(h.id)),{formatDate:n}=U(),{getProductPrice:d,formatPrice:_}=I(),m=y(()=>d(r.value,!0)),u=y(()=>d(r.value,!1));return(s,o)=>(l(),a("div",{class:O(["flex items-center relative py-2 px-6 border-solid border-2 cursor-pointer",s.minimized?"gap-8":"gap-14"])},[M(e("p",{class:"text-xl basis-5/12 underline underline-offset-4"},c(s.order.title),513),[[P,!s.minimized]]),e("div",W,[X,e("div",Z,[e("p",ee,c(t(r).length),1),te])]),e("div",se,[s.order.date?(l(),a(k,{key:0},[e("p",oe,c(t(n)(s.order.date,"DD / MM")),1),e("p",null,c(t(n)(s.order.date,"DD / MMM / YYYY")),1)],64)):(l(),a("p",le,"-"))]),M(e("div",re,[t(r).length?(l(),a(k,{key:0},[t(u).value!==0?(l(),a("p",ne,c(t(_)(t(u))),1)):N("",!0),t(m).value!==0?(l(),a("p",de,c(t(_)(t(m))),1)):N("",!0)],64)):(l(),a("p",ae,"-"))],512),[[P,!s.minimized]]),M(e("div",{onClick:o[0]||(o[0]=J(v=>s.$emit("delete"),["stop"]))},ce,512),[[P,!s.minimized]]),M(e("div",ue,_e,512),[[P,s.selected]])],2))}}),he=F(me,[["__scopeId","data-v-a6bda73f"]]),ge={class:"flex items-center py-2 px-6 border-solid border-y-2 grow-1 gap-8"},fe=["src"],ve={class:"grow"},be={class:"text-xl"},xe={class:"text-gray-500"},$e={class:"w-1/6"},we={class:"w-1/12 text-right"},ye=S({__name:"OrderProductsRowItem",props:{product:{}},emits:["delete"],setup(i,{emit:h}){const p=i,r=h,{getStatusColor:n,getStatusColorText:d,formatStatus:_}=I(),m=$(n(p.product.status)),u=$(d(p.product.status)),{images:s}=A();return(o,v)=>(l(),a("div",ge,[e("div",{class:O(["w-4 h-4 rounded-full",[t(m)]])},null,2),e("img",{class:"w-24 h-12 object-contain",src:t(s)[o.product.photo]},null,8,fe),e("div",ve,[e("p",be,c(o.product.title),1),e("p",xe,c(o.product.serialNumber),1)]),e("div",$e,[e("p",{class:O([t(u)])},c(t(_)(o.product.status)),3)]),e("div",we,[e("span",{class:"material-symbols-outlined text-gray-500 cursor-pointer",onClick:v[0]||(v[0]=D=>r("delete",o.product))}," delete ")])]))}}),Ce={class:"relative border-solid border-2 overflow-visible"},De={class:"px-6"},ke={class:"text-2xl"},Oe={class:"flex items-center gap-3 mt-5 mb-3 cursor-pointer"},Se=e("span",{class:"text-green-500"},"Add product",-1),Me=S({__name:"OrderSelectView",props:{order:{}},emits:["close"],setup(i,{emit:h}){const p=i,r=h,{getters:n}=z(),{showModal:d,productToDelete:_,showDelete:m,closeModal:u,deleteProduct:s}=I(),o=y(()=>n.getOrderProducts(p.order.id));return(v,D)=>{const b=R;return l(),a("div",Ce,[e("div",De,[f(T,{class:"p-3 -right-5 -top-5 bg-white",icon:"close",absolute:"",shadow:"",onClick:D[0]||(D[0]=x=>r("close"))}),e("h3",ke,c(v.order.title),1),e("div",Oe,[f(T,{class:"p-1 bg-green-500 inline-flex",icon:"add"}),Se])]),(l(!0),a(k,null,V(t(o),x=>(l(),C(ye,{key:x.id,product:x,onDelete:t(m)},null,8,["product","onDelete"]))),128)),f(b,null,{default:w(()=>[(l(),C(q,{to:"body"},[f(G,{open:t(d),product:t(_),onDelete:t(s),onClose:t(u)},null,8,["open","product","onDelete","onClose"])]))]),_:1})])}}}),Pe={class:"flex items-center py-2 px-6 border-solid border-t-2 grow-1 gap-8"},Ie=["src"],ze={class:"grow"},Be={class:"text-lg underline"},Ne={class:"text-gray-500"},Te={class:"flex p-8 justify-end bg-green-500 gap-6"},Ve=S({__name:"DeleteOrderModal",props:{open:Boolean,orderId:Number},emits:["close","delete"],setup(i,{emit:h}){const p=i,r=h,{getters:n}=z(),{getStatusColor:d}=I(),{images:_}=A(),m=y(()=>n.getOrderProducts(p.orderId));return(u,s)=>(l(),C(H,{open:i.open,title:"Are you sure you want to delete this order?",onClose:s[2]||(s[2]=o=>r("close"))},{body:w(()=>[(l(!0),a(k,null,V(t(m),o=>(l(),a("div",Pe,[e("div",{class:O(["w-4 h-4 rounded-full",[t(d)(o.status)]])},null,2),e("img",{class:"w-24 h-12 object-contain",src:t(_)[o.photo]},null,8,Ie),e("div",ze,[e("p",Be,c(o.title),1),e("p",Ne,c(o.serialNumber),1)])]))),256))]),footer:w(()=>[e("div",Te,[f(j,{class:"text-white",inline:"",onClick:s[0]||(s[0]=o=>r("close"))},{default:w(()=>[Y(" Cancel ")]),_:1}),f(j,{class:"bg-white text-red-600",icon:"delete",onClick:s[1]||(s[1]=o=>r("delete"))},{default:w(()=>[Y(" Delete ")]),_:1})])]),_:1},8,["open"]))}}),je={class:"w-full"},Ye={class:"flex items-center gap-4"},Ae={class:"text-3xl font-bold"},Re={class:"list-container flex gap-5"},Fe=S({__name:"index",setup(i){const{getters:h,dispatch:p}=z(),r=y(()=>h.getOrders),n=$(!1),d=$(null),_=b=>{d.value=b,n.value=!0},m=()=>{n.value=!1,d.value=null},u=$(!1),s=$(null),o=b=>{u.value=!0,s.value=b},v=()=>{u.value=!1,s.value=null},D=()=>{s.value&&(p("deleteOrder",s.value.id),v())};return(b,x)=>{const E=R;return l(),a("div",je,[e("div",Ye,[f(T,{class:"p-2 bg-green-600 border-4 border-green-900",icon:"add",shadow:""}),e("h1",Ae,"Orders / "+c(t(r).length),1)]),e("div",Re,[e("div",{class:O(["flex flex-col grow gap-2",{"w-2/5":t(n)}])},[(l(!0),a(k,null,V(t(r),g=>(l(),C(he,{key:g.id,order:g,minimized:t(n),selected:t(d)===g,onClick:L=>_(g),onDelete:L=>o(g)},null,8,["order","minimized","selected","onClick","onDelete"]))),128))],2),t(n)&&t(d)?(l(),C(Me,{key:0,class:"w-3/5 pt-5",order:t(d),onClose:x[0]||(x[0]=g=>m())},null,8,["order"])):N("",!0),f(E,null,{default:w(()=>{var g;return[(l(),C(q,{to:"body"},[f(Ve,{open:t(u),"order-id":(g=t(s))==null?void 0:g.id,onDelete:D,onClose:v},null,8,["open","order-id"])]))]}),_:1})])])}}}),Ge=F(Fe,[["__scopeId","data-v-9804126d"]]);export{Ge as default};
