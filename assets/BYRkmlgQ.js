import{f as k,u as I,g,o as t,c,h as x,v as b,a as e,t as i,i as s,F as w,j as C,k as V,n as y,p as Y,e as j,_ as z,r as v,b as $,l as M,m as D}from"./D4Wsq6jV.js";import{u as R,_ as F}from"./DZsMv91O.js";import{u as B}from"./-27KroAM.js";import{_ as P}from"./CQ0Qkmc6.js";import"./Dhqm1lbJ.js";const O=a=>(Y("data-v-2eec0740"),a=a(),j(),a),T={class:"flex basis-1/6"},A=O(()=>e("div",{class:"fab mr-4"},[e("span",{class:"material-symbols-outlined"}," list ")],-1)),E={class:"flex-initial"},L={class:"text-xl"},q=O(()=>e("p",{class:"text-sm text-gray-500"},"Products",-1)),G={class:"basis-1/6 flex-auto"},H={class:"text-xs text-gray-500"},J={key:1},K={class:"basis-1/6"},Q={key:0,class:"text-xs text-gray-500"},U={key:1},W={key:1},X=O(()=>e("span",{class:"material-symbols-outlined"}," delete ",-1)),Z=[X],ee={class:"flex absolute top-0 right-0 bottom-0 w-1/12 bg-gray-200 items-center justify-center"},se=O(()=>e("span",{class:"material-symbols-outlined"}," arrow_forward_ios ",-1)),te=[se],oe=k({__name:"OrderRowItem",props:{order:{},minimized:{type:Boolean},selected:{type:Boolean}},setup(a){const{order:u}=a,{getters:p}=I(),o=g(()=>p.getOrderProducts(u.id)),{formatDate:l}=R(),{getProductPrice:_,formatPrice:m}=B(),n=g(()=>_(o.value,!0)),d=g(()=>_(o.value,!1));return(r,h)=>(t(),c("div",{class:y(["flex items-center relative py-2 px-6 border-solid border-2 cursor-pointer",r.minimized?"gap-8":"gap-14"])},[x(e("p",{class:"text-xl basis-5/12 underline underline-offset-4"},i(r.order.title),513),[[b,!r.minimized]]),e("div",T,[A,e("div",E,[e("p",L,i(s(o).length),1),q])]),e("div",G,[r.order.date?(t(),c(w,{key:0},[e("p",H,i(s(l)(r.order.date,"DD / MM")),1),e("p",null,i(s(l)(r.order.date,"DD / MMM / YYYY")),1)],64)):(t(),c("p",J,"-"))]),x(e("div",K,[s(o).length?(t(),c(w,{key:0},[s(d).value!==0?(t(),c("p",Q,i(s(m)(s(d))),1)):C("",!0),s(n).value!==0?(t(),c("p",U,i(s(m)(s(n))),1)):C("",!0)],64)):(t(),c("p",W,"-"))],512),[[b,!r.minimized]]),x(e("div",{onClick:h[0]||(h[0]=V(S=>r.$emit("delete"),["stop"]))},Z,512),[[b,!r.minimized]]),x(e("div",ee,te,512),[[b,r.selected]])],2))}}),re=z(oe,[["__scopeId","data-v-2eec0740"]]),le={class:"flex items-center py-2 px-6 border-solid border-y-2 grow-1 gap-8"},ne={class:"grow"},ce={class:"text-xl"},ie={class:"text-gray-500"},ae={class:"w-1/6"},de=e("div",{class:"w-1/12 text-right"},[e("span",{class:"material-symbols-outlined"}," delete ")],-1),ue=k({__name:"OrderProductsRowItem",props:{product:{}},setup(a){const u=a,{getStatusColor:p,getStatusColorText:o,formatStatus:l}=B(),_=v(p(u.product.status)),m=v(o(u.product.status));return(n,d)=>{const r=F;return t(),c("div",le,[e("div",{class:y(["w-4 h-4 rounded-full",[s(_)]])},null,2),$(r,{class:"w-24 h-12 object-cover",src:n.product.photo},null,8,["src"]),e("div",ne,[e("p",ce,i(n.product.title),1),e("p",ie,i(n.product.serialNumber),1)]),e("div",ae,[e("p",{class:y([s(m)])},i(s(l)(n.product.status)),3)]),de])}}}),pe={class:"relative border-solid border-2 overflow-visible"},_e={class:"px-6"},me={class:"text-2xl"},he={class:"flex items-center gap-3 mt-5 mb-3 cursor-pointer"},fe=e("span",{class:"text-green-500"},"Add product",-1),ve=k({__name:"OrderSelectView",props:{order:{}},emits:["close"],setup(a,{emit:u}){const p=a,o=u,{getters:l}=I(),_=g(()=>l.getOrderProducts(p.order.id));return(m,n)=>(t(),c("div",pe,[e("div",_e,[$(P,{class:"p-3 -right-5 -top-5 bg-white",icon:"close",absolute:"",shadow:"",onClick:n[0]||(n[0]=d=>o("close"))}),e("h3",me,i(m.order.title),1),e("div",he,[$(P,{class:"p-1 bg-green-500 inline-flex",icon:"add"}),fe])]),(t(!0),c(w,null,M(s(_),d=>(t(),D(ue,{key:d.id,product:d},null,8,["product"]))),128))]))}}),ge={class:"w-full"},xe={class:"flex items-center gap-4"},be={class:"text-3xl font-bold"},we={class:"list-container flex gap-5"},ye=k({__name:"index",setup(a){const{getters:u}=I(),p=g(()=>u.getOrders),o=v(!1),l=v(null),_=h=>{l.value=h,o.value=!0},m=()=>{o.value=!1,l.value=null},n=v(!1),d=v(null);g(()=>u.getOrderProducts(d.value.id));function r(h){n.value=!0,d.value=h}return(h,S)=>(t(),c("div",ge,[e("div",xe,[$(P,{class:"p-2 bg-green-600 border-4 border-green-900",icon:"add",shadow:""}),e("h1",be,"Orders / "+i(s(p).length),1)]),e("div",we,[e("div",{class:y(["flex flex-col grow gap-2",{"w-2/5":s(o)}])},[(t(!0),c(w,null,M(s(p),f=>(t(),D(re,{key:f.id,order:f,minimized:s(o),selected:s(l)===f,onClick:N=>_(f),onDelete:N=>r(f)},null,8,["order","minimized","selected","onClick","onDelete"]))),128))],2),s(o)&&s(l)?(t(),D(ve,{key:0,class:"w-3/5 pt-5",onClose:S[0]||(S[0]=f=>m()),order:s(l)},null,8,["order"])):C("",!0)])]))}}),De=z(ye,[["__scopeId","data-v-8ac55fe5"]]);export{De as default};
