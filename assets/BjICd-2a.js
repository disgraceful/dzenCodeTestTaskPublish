import{u as N}from"./-27KroAM.js";import{n as w,u as j,q as b,o as t,c as o,s as O,v as S,a as e,t as a,x as s,F as y,y as $,z as F,A as x,p as q,e as E,_ as T,r as g,b as f,B as I,C as P,D as M,w as D,T as L,d as Y}from"./BLKzFLAi.js";import{u as G}from"./DZ1z85mp.js";import{_ as B}from"./DYOEz5qh.js";const z=u=>(q("data-v-a6bda73f"),u=u(),E(),u),H={class:"flex basis-1/6"},J=z(()=>e("div",{class:"fab mr-4"},[e("span",{class:"material-symbols-outlined"}," list ")],-1)),K={class:"flex-initial"},Q={class:"text-xl"},U=z(()=>e("p",{class:"text-sm text-gray-500"},"Products",-1)),W={class:"basis-1/6 flex-auto"},X={class:"text-xs text-gray-500"},Z={key:1},ee={class:"basis-1/6"},se={key:0,class:"text-xs text-gray-500"},te={key:1},oe={key:1},re=z(()=>e("span",{class:"material-symbols-outlined text-gray-500"}," delete ",-1)),le=[re],ne={class:"flex absolute top-0 right-0 bottom-0 w-1/12 bg-gray-200 items-center justify-center"},ae=z(()=>e("span",{class:"material-symbols-outlined"}," arrow_forward_ios ",-1)),ie=[ae],de=w({__name:"OrderRowItem",props:{order:{},minimized:{type:Boolean},selected:{type:Boolean}},setup(u){const{order:r}=u,{getters:m}=j(),l=b(()=>m.getOrderProducts(r.id)),{formatDate:n}=G(),{getProductPrice:i,formatPrice:h}=N(),p=b(()=>i(l.value,!0)),_=b(()=>i(l.value,!1));return(d,k)=>(t(),o("div",{class:x(["flex items-center relative py-2 px-6 border-solid border-2 cursor-pointer",d.minimized?"gap-8":"gap-14"])},[O(e("p",{class:"text-xl basis-5/12 underline underline-offset-4"},a(d.order.title),513),[[S,!d.minimized]]),e("div",H,[J,e("div",K,[e("p",Q,a(s(l).length),1),U])]),e("div",W,[d.order.date?(t(),o(y,{key:0},[e("p",X,a(s(n)(d.order.date,"DD / MM")),1),e("p",null,a(s(n)(d.order.date,"DD / MMM / YYYY")),1)],64)):(t(),o("p",Z,"-"))]),O(e("div",ee,[s(l).length?(t(),o(y,{key:0},[s(_).value!==0?(t(),o("p",se,a(s(h)(s(_))),1)):$("",!0),s(p).value!==0?(t(),o("p",te,a(s(h)(s(p))),1)):$("",!0)],64)):(t(),o("p",oe,"-"))],512),[[S,!d.minimized]]),O(e("div",{onClick:k[0]||(k[0]=F(V=>d.$emit("delete"),["stop"]))},le,512),[[S,!d.minimized]]),O(e("div",ne,ie,512),[[S,d.selected]])],2))}}),ce=T(de,[["__scopeId","data-v-a6bda73f"]]),ue={class:"flex items-center py-2 px-6 border-solid border-y-2 grow-1 gap-8"},pe=["src"],_e={class:"grow"},me={class:"text-xl"},he={class:"text-gray-500"},fe={class:"w-1/6"},ve=e("div",{class:"w-1/12 text-right"},[e("span",{class:"material-symbols-outlined text-gray-500"}," delete ")],-1),ge=w({__name:"OrderProductsRowItem",props:{product:{}},setup(u){const r=u,{getStatusColor:m,getStatusColorText:l,formatStatus:n}=N(),i=g(m(r.product.status)),h=g(l(r.product.status));return(p,_)=>(t(),o("div",ue,[e("div",{class:x(["w-4 h-4 rounded-full",[s(i)]])},null,2),e("img",{class:"w-24 h-12 object-contain",src:p.product.photo},null,8,pe),e("div",_e,[e("p",me,a(p.product.title),1),e("p",he,a(p.product.serialNumber),1)]),e("div",fe,[e("p",{class:x([s(h)])},a(s(n)(p.product.status)),3)]),ve]))}}),be={class:"relative border-solid border-2 overflow-visible"},ye={class:"px-6"},$e={class:"text-2xl"},xe={class:"flex items-center gap-3 mt-5 mb-3 cursor-pointer"},we=e("span",{class:"text-green-500"},"Add product",-1),ke=w({__name:"OrderSelectView",props:{order:{}},emits:["close"],setup(u,{emit:r}){const m=u,l=r,{getters:n}=j(),i=b(()=>n.getOrderProducts(m.order.id));return(h,p)=>(t(),o("div",be,[e("div",ye,[f(B,{class:"p-3 -right-5 -top-5 bg-white",icon:"close",absolute:"",shadow:"",onClick:p[0]||(p[0]=_=>l("close"))}),e("h3",$e,a(h.order.title),1),e("div",xe,[f(B,{class:"p-1 bg-green-500 inline-flex",icon:"add"}),we])]),(t(!0),o(y,null,I(s(i),_=>(t(),P(ge,{key:_.id,product:_},null,8,["product"]))),128))]))}}),Ce={key:0,class:"modal relative"},Oe={class:"text-2xl px-6 my-5"},Se={key:1,class:"modal-overlay"},De=w({__name:"Modal",props:{title:{},open:{type:Boolean}},emits:["close"],setup(u,{emit:r}){const m=r;return(l,n)=>(t(),o(y,null,[l.open?(t(),o("div",Ce,[f(B,{class:"p-2 -right-3 -top-3 bg-white",icon:"close",absolute:"",onClick:n[0]||(n[0]=i=>m("close"))}),e("h2",Oe,a(l.title),1),M(l.$slots,"body",{},void 0,!0),M(l.$slots,"footer",{},void 0,!0)])):$("",!0),l.open?(t(),o("div",Se)):$("",!0)],64))}}),Pe=T(De,[["__scopeId","data-v-430369ef"]]),Be={key:0,class:"material-symbols-outlined pr-4"},ze={class:"uppercase"},A=w({__name:"Button",props:{icon:{default:""},inline:{type:Boolean,default:!1}},setup(u){return(r,m)=>(t(),o("div",{class:x(["flex py-2 px-6 justifty-center items-center rounded-full cursor-pointer button",{"shadow-xl":!r.inline}])},[r.icon?(t(),o("span",Be,a(r.icon),1)):$("",!0),e("span",ze,[M(r.$slots,"default")])],2))}}),Ie={class:"w-full"},Me={class:"flex items-center gap-4"},Ne={class:"text-3xl font-bold"},je={class:"list-container flex gap-5"},Te={class:"flex items-center py-2 px-6 border-solid border-t-2 grow-1 gap-8"},Ve=["src"],Ye={class:"grow"},Ae={class:"text-lg underline"},Re={class:"text-gray-500"},Fe={class:"flex p-8 justify-end bg-green-500 gap-6"},qe=w({__name:"index",setup(u){const{getters:r}=j(),m=b(()=>r.getOrders),{getStatusColor:l}=N(),n=g(!1),i=g(null),h=C=>{i.value=C,n.value=!0},p=()=>{n.value=!1,i.value=null},_=g(!1),d=g(null),k=b(()=>r.getOrderProducts(d.value.id));function V(C){_.value=!0,d.value=C}return(C,v)=>(t(),o("div",Ie,[e("div",Me,[f(B,{class:"p-2 bg-green-600 border-4 border-green-900",icon:"add",shadow:""}),e("h1",Ne,"Orders / "+a(s(m).length),1)]),e("div",je,[e("div",{class:x(["flex flex-col grow gap-2",{"w-2/5":s(n)}])},[(t(!0),o(y,null,I(s(m),c=>(t(),P(ce,{key:c.id,order:c,minimized:s(n),selected:s(i)===c,onClick:R=>h(c),onDelete:R=>V(c)},null,8,["order","minimized","selected","onClick","onDelete"]))),128))],2),s(n)&&s(i)?(t(),P(ke,{key:0,class:"w-3/5 pt-5",onClose:v[0]||(v[0]=c=>p()),order:s(i)},null,8,["order"])):$("",!0),(t(),P(L,{to:"body"},[f(Pe,{open:s(_),title:"Are you sure you want to delete this order?",onClose:v[2]||(v[2]=c=>_.value=!1)},{body:D(()=>[(t(!0),o(y,null,I(s(k),c=>(t(),o("div",Te,[e("div",{class:x(["w-4 h-4 rounded-full",[s(l)(c.status)]])},null,2),e("img",{class:"w-24 h-12 object-contain",src:c.photo},null,8,Ve),e("div",Ye,[e("p",Ae,a(c.title),1),e("p",Re,a(c.serialNumber),1)])]))),256))]),footer:D(()=>[e("div",Fe,[f(A,{class:"text-white",inline:"",onClick:v[1]||(v[1]=c=>_.value=!1)},{default:D(()=>[Y(" Cancel ")]),_:1}),f(A,{class:"bg-white text-red-600",icon:"delete"},{default:D(()=>[Y(" Delete ")]),_:1})])]),_:1},8,["open"])]))])]))}}),Je=T(qe,[["__scopeId","data-v-87a5f8e6"]]);export{Je as default};
